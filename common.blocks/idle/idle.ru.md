# idle

Блок предоставляет объект объект, содержащий набор методов для генерации события в момент, когда окно браузера начинает простаивать (т.е. пользователь работает с другим окном или не совершает действий). 

## Обзор

### События объекта

Доступен следующий набор событий:

| Имя | Описание |
| -------- | -------- |
| <a href="#events-idle">idle</a> | Браузер простаивает. |
| <a href="#events-wakeup">wakeup</a> | Пользователь возобновил активность. |

### Свойства и методы объекта

| Имя | Тип или возвращаемое значение | Описание |
| -------- | --- | -------- |
| <a href="#fields-start">start</a>() | - | Запуск генерации событий. |
| <a href="#fields-stop">stop</a>() | - | Остановка генерации событий. |
| <a href="#fields-isIdle">isIdle</a>() | <code>{Boolean}</code> | Проверка текущего состояния. |

### Модификаторы блока

| Модификатор | Допустимые значения | Способы использования | Описание |
| ----------- | ------------------- | --------------------- | -------- |
| <a href="#modifiers-start">start</a> | <code>auto</code> | <code>JS</code> | Автоматический запуск генерации событий. |

### Публичные технологии блока

Блок реализован в технологиях:

* `js`

## Подробности

Подписавшись на события блока можно приостанавливать выполнение операций, например, отображение анимации, при отсутствии пользовательской активности.

Блок наследуется от класса `Emitter` блока `events`, что позволяет вызывать его методы.
Например, в блоке `input` производится подписка на события `idle` и `wakeup` с помощью унаследованного `idle.on`:

```js
modules.define('input', ['tick', 'idle'], function(provide, tick, idle, Input) {

var instances = [],
    boundToTick,
    bindToTick = function() {
        boundToTick = true;
        tick
            .on('tick', update) // подписываемся на событие tick 
            .start(); // запускаем генерацию события tick
        idle
            .on({
                idle : function() {
                    tick.un('tick', update); // по событию idle отписываемся от tick
                },
                wakeup : function() {
                    tick.on('tick', update); // по событию wakeup подписываемся обратно
                }
            })
            .start(); // запускаем генерацию событий
    },
    update = function() { /* ... */ };
});
```

<a name="events"></a>
### События объекта

<a name="events-idle"></a>
#### Событие `idle`

Генерируется по истечению трех секунд после последней пользовательской активности. Под активностью подразумеваются события `mousemove`, `keydown` и `click`.

<a name="events-wakeup"></a>
#### Событие `wakeup`

Генерируется в момент возобновления пользовательской активности. Под активностью подразумеваются события `mousemove`, `keydown` и `click`.

<a name="fields"></a>
### Свойства и методы объекта

<a name="fields-start"></a>
#### Метод `start`

Служит для запуска генерации событий `idle` и `wakeup` и отслеживания простоя.

Не принимает аргументов.

Не имеет возвращаемого значения. 

```js
modules.require(['idle'], function(idle) {
    idle.start() // запускаем генерацию событий
});
```

<a name="fields-stop"></a>
#### Метод `stop`

Служит для прекращения генерации событий `idle` и `wakeup` и отслеживания простоя.

Не принимает аргументов.

Не имеет возвращаемого значения.

```js
modules.require(['idle'], function(idle) {
    idle.start() // запускаем генерацию событий
    idle.stop() // прекращаем генерацию событий
});
```

<a name="fields-isIdle"></a>
#### Метод `isIdle`

Служит для проверки состояния простоя окна.

Не принимает аргументов.

Возвращаемое значение: `{Boolean}`. В случае если окно простаивает – `true`.

```js
modules.require(['idle'], function(idle) {
    idle.isIdle() // true или false, в зависимости от текущего состояния
});
```

<a name="modifiers"></a>
### Модификаторы блока

<a name="modifiers-start"></a>
#### Модификатор `start`

Допустимые значения: `'auto'`.

Способ использования: `JS`.

Автоматический запуск генерации событий.

```js
modules.require(['idle_start_auto'], function(idle) {
    // генерация события запущена
});
```
